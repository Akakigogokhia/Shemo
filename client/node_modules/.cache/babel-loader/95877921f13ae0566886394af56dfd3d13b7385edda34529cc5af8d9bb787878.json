{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./profile.css';import Header from'../../components/header/Header';import Sidebar from'../../components/sidebar/SideBar';import Feed from'../../components/feed/Feed';import Rightbar from'../../components/rightbar/Rightbar';import axios from'axios';import{useParams}from'react-router';import{useContext,useEffect,useState}from'react';import MoreVertOutlinedIcon from'@mui/icons-material/MoreVertOutlined';import ProfileForm from'../../components/profileForm/ProfileForm';import{AuthContext}from'../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Profile(){var PF=process.env.REACT_APP_PUBLIC_FOLDER;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useContext=useContext(AuthContext),currentUser=_useContext.user;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),div=_useState4[0],setDiv=_useState4[1];var username=useParams().username;useEffect(function(){var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/users?username=\".concat(username));case 2:res=_context.sent;setUser(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser();},[username]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightTop\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileCover\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profileCoverImg\",src:user.coverPicture?PF+user.coverPicture:PF+'person/noCover.png',alt:\"\"}),/*#__PURE__*/_jsx(\"img\",{className:\"profileUserImg\",src:user.profilePicture?PF+user.profilePicture:PF+'person/noAvatar.png',alt:\"\"}),username===currentUser.username&&/*#__PURE__*/_jsx(MoreVertOutlinedIcon,{className:\"updateUserInformation\",onClick:function onClick(){return setDiv(function(prev){return!prev;});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileInfo\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"profileInfoName\",children:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"profileInfoDesc\",children:user===null||user===void 0?void 0:user.desc})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightBottom\",children:[/*#__PURE__*/_jsx(Feed,{username:user.username}),/*#__PURE__*/_jsx(Rightbar,{user:user})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profileSettings\",style:{display:div?'block':'none'},children:/*#__PURE__*/_jsx(ProfileForm,{user:user,currentUser:currentUser})})]})]});}","map":{"version":3,"names":["Header","Sidebar","Feed","Rightbar","axios","useParams","useContext","useEffect","useState","MoreVertOutlinedIcon","ProfileForm","AuthContext","Profile","PF","process","env","REACT_APP_PUBLIC_FOLDER","user","setUser","currentUser","div","setDiv","username","fetchUser","get","res","data","coverPicture","profilePicture","prev","desc","display"],"sources":["C:/Users/AKAKI/SocialMedia/client/src/pages/profile/Profile.jsx"],"sourcesContent":["import './profile.css';\r\nimport Header from '../../components/header/Header';\r\nimport Sidebar from '../../components/sidebar/SideBar';\r\nimport Feed from '../../components/feed/Feed';\r\nimport Rightbar from '../../components/rightbar/Rightbar';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport MoreVertOutlinedIcon from '@mui/icons-material/MoreVertOutlined';\r\nimport ProfileForm from '../../components/profileForm/ProfileForm';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nexport default function Profile() {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n  const [div, setDiv] = useState(false);\r\n  const username = useParams().username;\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?username=${username}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [username]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <div className='profile'>\r\n        <Sidebar />\r\n        <div className='profileRight'>\r\n          <div className='profileRightTop'>\r\n            <div className='profileCover'>\r\n              <img\r\n                className='profileCoverImg'\r\n                src={\r\n                  user.coverPicture\r\n                    ? PF + user.coverPicture\r\n                    : PF + 'person/noCover.png'\r\n                }\r\n                alt=''\r\n              ></img>\r\n              <img\r\n                className='profileUserImg'\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + 'person/noAvatar.png'\r\n                }\r\n                alt=''\r\n              />\r\n\r\n              {username === currentUser.username && (\r\n                <MoreVertOutlinedIcon\r\n                  className='updateUserInformation'\r\n                  onClick={() => setDiv((prev) => !prev)}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className='profileInfo'>\r\n              <h4 className='profileInfoName'>{user.username}</h4>\r\n              <span className='profileInfoDesc'>{user?.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className='profileRightBottom'>\r\n            <Feed username={user.username} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className='profileSettings'\r\n          style={{ display: div ? 'block' : 'none' }}\r\n        >\r\n          <ProfileForm user={user} currentUser={currentUser} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"qXAAA,MAAO,eAAe,CACtB,MAAOA,OAAM,KAAM,gCAAgC,CACnD,MAAOC,QAAO,KAAM,kCAAkC,CACtD,MAAOC,KAAI,KAAM,4BAA4B,CAC7C,MAAOC,SAAQ,KAAM,oCAAoC,CACzD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,cAAc,CACxC,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,MAAOC,qBAAoB,KAAM,sCAAsC,CACvE,MAAOC,YAAW,KAAM,0CAA0C,CAClE,OAASC,WAAW,KAAQ,2BAA2B,CAAC,6IAExD,cAAe,SAASC,QAAO,EAAG,CAChC,GAAMC,GAAE,CAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,CAC9C,cAAwBR,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BS,IAAI,eAAEC,OAAO,eACpB,gBAA8BZ,UAAU,CAACK,WAAW,CAAC,CAAvCQ,WAAW,aAAjBF,IAAI,CAEZ,eAAsBT,QAAQ,CAAC,KAAK,CAAC,yCAA9BY,GAAG,eAAEC,MAAM,eAClB,GAAMC,SAAQ,CAAGjB,SAAS,EAAE,CAACiB,QAAQ,CAErCf,SAAS,CAAC,UAAM,CACd,GAAMgB,UAAS,4FAAG,mKACEnB,MAAK,CAACoB,GAAG,2BAAoBF,QAAQ,EAAG,QAApDG,GAAG,eACTP,OAAO,CAACO,GAAG,CAACC,IAAI,CAAC,CAAC,sDACnB,kBAHKH,UAAS,0CAGd,CACDA,SAAS,EAAE,CACb,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,mBACE,wCACE,KAAC,MAAM,IAAG,cAEV,aAAK,SAAS,CAAC,SAAS,wBACtB,KAAC,OAAO,IAAG,cACX,aAAK,SAAS,CAAC,cAAc,wBAC3B,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,aAAK,SAAS,CAAC,cAAc,wBAC3B,YACE,SAAS,CAAC,iBAAiB,CAC3B,GAAG,CACDL,IAAI,CAACU,YAAY,CACbd,EAAE,CAAGI,IAAI,CAACU,YAAY,CACtBd,EAAE,CAAG,oBACV,CACD,GAAG,CAAC,EAAE,EACD,cACP,YACE,SAAS,CAAC,gBAAgB,CAC1B,GAAG,CACDI,IAAI,CAACW,cAAc,CACff,EAAE,CAAGI,IAAI,CAACW,cAAc,CACxBf,EAAE,CAAG,qBACV,CACD,GAAG,CAAC,EAAE,EACN,CAEDS,QAAQ,GAAKH,WAAW,CAACG,QAAQ,eAChC,KAAC,oBAAoB,EACnB,SAAS,CAAC,uBAAuB,CACjC,OAAO,CAAE,yBAAMD,OAAM,CAAC,SAACQ,IAAI,QAAK,CAACA,IAAI,GAAC,EAAC,EAE1C,GACG,cACN,aAAK,SAAS,CAAC,aAAa,wBAC1B,WAAI,SAAS,CAAC,iBAAiB,UAAEZ,IAAI,CAACK,QAAQ,EAAM,cACpD,aAAM,SAAS,CAAC,iBAAiB,UAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,IAAI,EAAQ,GACjD,GACF,cACN,aAAK,SAAS,CAAC,oBAAoB,wBACjC,KAAC,IAAI,EAAC,QAAQ,CAAEb,IAAI,CAACK,QAAS,EAAG,cACjC,KAAC,QAAQ,EAAC,IAAI,CAAEL,IAAK,EAAG,GACpB,GACF,cACN,YACE,SAAS,CAAC,iBAAiB,CAC3B,KAAK,CAAE,CAAEc,OAAO,CAAEX,GAAG,CAAG,OAAO,CAAG,MAAO,CAAE,uBAE3C,KAAC,WAAW,EAAC,IAAI,CAAEH,IAAK,CAAC,WAAW,CAAEE,WAAY,EAAG,EACjD,GACF,GACL,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}