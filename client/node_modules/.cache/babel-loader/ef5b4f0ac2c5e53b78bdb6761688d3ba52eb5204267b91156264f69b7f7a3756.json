{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AKAKI/SocialMedia/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useEffect}from'react';import{useState}from'react';import'./conversation.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Conversation(_ref){var conversation=_ref.conversation,currentUser=_ref.currentUser,active=_ref.active;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var PF=process.env.REACT_APP_PUBLIC_FOLDER;useEffect(function(){var friendId=conversation.members.find(function(member){return member!==currentUser._id;});var getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/users?userId='+friendId);case 3:res=_context.sent;setUser(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getUser(){return _ref2.apply(this,arguments);};}();getUser();},[currentUser,conversation]);return/*#__PURE__*/_jsxs(\"div\",{className:\"conversation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"imageContainer\",children:[/*#__PURE__*/_jsx(\"img\",{src:user!==null&&user!==void 0&&user.profilePicture?PF+user.profilePicture:PF+'person/noAvatar.png',className:\"conversationImg\"}),active?/*#__PURE__*/_jsx(\"div\",{className:\"chatOnlineBadge\"}):'']}),/*#__PURE__*/_jsx(\"span\",{className:\"conversationName\",children:user===null||user===void 0?void 0:user.username})]});}export default Conversation;","map":{"version":3,"names":["axios","useEffect","useState","Conversation","conversation","currentUser","active","user","setUser","PF","process","env","REACT_APP_PUBLIC_FOLDER","friendId","members","find","member","_id","getUser","get","res","data","console","log","profilePicture","username"],"sources":["C:/Users/AKAKI/SocialMedia/client/src/components/conversations/Conversation.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport './conversation.css';\r\n\r\nfunction Conversation({ conversation, currentUser, active }) {\r\n  const [user, setUser] = useState(null);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find(\r\n      (member) => member !== currentUser._id\r\n    );\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios.get('/users?userId=' + friendId);\r\n        setUser(res.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n  return (\r\n    <div className='conversation'>\r\n      <div className='imageContainer'>\r\n        <img\r\n          src={\r\n            user?.profilePicture\r\n              ? PF + user.profilePicture\r\n              : PF + 'person/noAvatar.png'\r\n          }\r\n          className='conversationImg'\r\n        />\r\n        {active ? <div className='chatOnlineBadge'></div> : ''}\r\n      </div>\r\n      <span className='conversationName'>{user?.username}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Conversation;\r\n"],"mappings":"qXAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,oBAAoB,CAAC,wFAE5B,QAASC,aAAY,MAAwC,IAArCC,aAAY,MAAZA,YAAY,CAAEC,WAAW,MAAXA,WAAW,CAAEC,MAAM,MAANA,MAAM,CACvD,cAAwBJ,QAAQ,CAAC,IAAI,CAAC,wCAA/BK,IAAI,eAAEC,OAAO,eACpB,GAAMC,GAAE,CAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,CAE9CX,SAAS,CAAC,UAAM,CACd,GAAMY,SAAQ,CAAGT,YAAY,CAACU,OAAO,CAACC,IAAI,CACxC,SAACC,MAAM,QAAKA,OAAM,GAAKX,WAAW,CAACY,GAAG,GACvC,CACD,GAAMC,QAAO,6FAAG,mLAEMlB,MAAK,CAACmB,GAAG,CAAC,gBAAgB,CAAGN,QAAQ,CAAC,QAAlDO,GAAG,eACTZ,OAAO,CAACY,GAAG,CAACC,IAAI,CAAC,CAAC,+EAElBC,OAAO,CAACC,GAAG,aAAO,CAAC,oEAEtB,kBAPKL,QAAO,2CAOZ,CACDA,OAAO,EAAE,CACX,CAAC,CAAE,CAACb,WAAW,CAAED,YAAY,CAAC,CAAC,CAC/B,mBACE,aAAK,SAAS,CAAC,cAAc,wBAC3B,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,YACE,GAAG,CACDG,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEiB,cAAc,CAChBf,EAAE,CAAGF,IAAI,CAACiB,cAAc,CACxBf,EAAE,CAAG,qBACV,CACD,SAAS,CAAC,iBAAiB,EAC3B,CACDH,MAAM,cAAG,YAAK,SAAS,CAAC,iBAAiB,EAAO,CAAG,EAAE,GAClD,cACN,aAAM,SAAS,CAAC,kBAAkB,UAAEC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,QAAQ,EAAQ,GACtD,CAEV,CAEA,cAAetB,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}